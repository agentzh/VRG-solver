define defmodule(AntiVectorize,
    import(Vectorize, deftemplate, ?ALL)
)

/* vectorization rules */

include "vrg-sugar.xclp"

module AntiVectorize.

/* line-line relationships */

\?l, \?m, ?l <?R> ?m => ?l [?R] ?m.

/* line-plane relationships */

\?l, #?alpha, ?l <//> ?alpha => ?l [T] ?alpha.
\?l, #?alpha, ?l <T> ?alpha => ?l [~T] ?alpha, ?l [~X] ?alpha.
\?l, #?alpha, ?l <X> ?alpha => ?l [X] ?alpha.

\?l, #?alpha, ?l <~//> ?alpha => ?l [~T] ?alpha.
\?l, #?alpha, ?l <~T> ?alpha => ?l [~//] ?alpha, ?l [~on] ?alpha.
\?l, #?alpha, ?l <~X> ?alpha => ?l [~X] ?alpha.

\?l, #?alpha, #?beta, ?l [on] ?alpha, ?alpha [//] ?beta => ?l [~on] ?beta.
\?l, #?alpha, ?l [~T] ?alpha, ?l [~X] ?alpha, ?l [~on] ?alpha => ?l [//] ?alpha.

/* plane-plane relationships */

#?alpha, #?beta, ?alpha <?R> ?beta => ?alpha [?R] ?beta.
